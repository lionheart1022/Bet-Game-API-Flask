<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>BetGame Password Recovery</title>
		<style>
label {
	display: block;
}
label input, label select {
	display: block;
}
		</style>
		<script src="/scripts/jquery-1.11.3.min.js"></script>
		<script>
var API = {
	call: function(method, endpoint, data, success, failure) {
		return $.ajax({
			dataType: 'json',
			method: method,
			url: '/v1/'+endpoint,
			data: data,
			complete: function(xhr, stat) {
				var data = xhr.responseJSON;
				if(xhr.status >= 200 && xhr.status < 300) {
					if(success)
						success(data);
				} else {
					console.error('API error', stat, data)
					if(failure)
						failure(data, xhr.status);
				}
			},
		});
	},
};
$(function() {
	$.each([
			'Android',
			'iOS',
			'Windows Mobile',
			'Web',
			'other',
	], function(i, name) {
		$('[name=platforms]').append('<option name="'+name+'">'+name+'<'+'/option>');
	});
	API.call('GET', 'gametypes', {}, function(data) {
		$.each(data.gametypes, function(gametype,opts) {
			$('[name=games]').append('<option name="'+gametype+'">'+gametype+'<'+'/option>');
		});
	});
});
		</script>
	</head>
	<body>
		<h1>BetGame Beta Testers Registration</h1>
		<p>Hello. If you want to try our exciting BetGame service, please register below
		and we will invite you once we enter beta testing stage.
		You can specify your desired platforms and games, this will allow us to manage efforts better.</p>
		<form id="beta_form" action="">
			<label>
				Your email address:
				<input name="email" type="email">
			</label>
			<label>
				Your name:
				<input name="name" type="text">
			</label>
			<label>
				Please choose which platforms are you interested in:
				<select name="platforms" multiple>
				</select>
			</label>
			<label>
				Please choose your desired games:
				<select name="games" multiple>
				</select>
			</label>
			<input type="submit" value="Register"/>
			<div id="message" style="color: red;"></div>
		</form>
		<div id="success" style="display: none;">
			Your password is now updated.
		</div>
	</body>
</html>
